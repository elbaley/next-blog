+++
title= "Javascript 30 - GÃ¼n 6"
description = "Javascript 30 Challenge Proje 6: JS ile veri Ã§ekmek ve filtrelemek"
date= "2023-03-31T16:43:12+03:00"
author = "Furkan"
favorite = false
tags = [

]
categories = [
"Javascript"
]

draft= false
+++

BugÃ¼nÃ¼n projesi `fetch` kullanarak veri Ã§ekmeyi ve bu veri Ã¼zerinde filtreleme iÅŸlemleri yapmayÄ± iÃ§eriyor.

Projenin demosu : [Demo](https://elbaley.github.io/js-30/06/index-solution.html)

<video src="/videos/js-30-gun-6-final.mp4" style="max-width: 100%" muted autoplay loop controls>
</video>


BaÅŸlangÄ±Ã§ dosyalarÄ±nÄ± bulabileceÄŸiniz repom: [js-30 | github](https://github.com/elbaley/js-30)

Ã‡ok karmaÅŸÄ±k bir proje olmadÄ±ÄŸÄ±ndan sadece kodu paylaÅŸÄ±yorum: 

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Type Ahead ðŸ‘€</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="https://fav.farm/ðŸ”¥" />
</head>

<body>
  <form class="search-form">
    <input type="text" class="search" placeholder="Åžehir veya Eyalet" />
    <ul class="suggestions">
      <li>Åžehir/eyalete gÃ¶re filtrele</li>
    </ul>
  </form>
<script>
// Verinin bulunduÄŸu url'yi saklar
const endpoint = "https://gist.githubusercontent.com/Miserlou/c5cd8364bf9b2420bb29/raw/2bf258763cdddd704f8ffd3ea9a3e81d25e2c6f6/cities.json";

// Åžehir ve eyaletleri saklamak iÃ§in bir dizi oluÅŸturur
const cities = [];

// Fetch API kullanarak veriyi alÄ±r ve spread operatÃ¶rÃ¼ yardÄ±mÄ±yla diziyi gÃ¼nceller.
fetch(endpoint)
  .then((res) => res.json())
  .then((data) => {
    cities.push(...data);
  });

// Dizideki kelimeleri arar 
function findMatches(word, cities) {
  return cities.filter((place) => {
    // Aranan kelimenin ÅŸehir/eyalet ile eÅŸleÅŸip eÅŸleÅŸmediÄŸini kontrol eder
    const regex = new RegExp(word, "gi");
    return place.city.match(regex) || place.state.match(regex);
  });
}

// Bulunan sonuÃ§larÄ± DOM'da gÃ¶rÃ¼ntÃ¼ler 
function renderMatches() {
  const matchArray = findMatches(this.value, cities);
  // EÅŸleÅŸen kelimeleri sarÄ± bir arka plana sahip 'hl' sÄ±nÄ±fÄ±na sahip bir span iÃ§inde gÃ¶sterir.
  const html = matchArray
    .map((place) => {
      const regex = new RegExp(this.value, "gi");
      const cityName = place.city.replace(
        regex,
        `<span class="hl">${this.value}</span>`
      );
      const stateName = place.state.replace(
        regex,
        `<span class="hl">${this.value}</span>`
      );

      // Intl API sayÄ±larÄ±n formatlanmasÄ±nÄ± saÄŸlar. (Ã–rneÄŸin 8405837-> 8,405,837 )
      return `<li> 
          <span class="name">${cityName}, ${stateName} </span>
          <span class="population">${new Intl.NumberFormat().format(
            place.population
          )}</span>
      </li>`;
    })
    .join("");
  resultsContainer.innerHTML = html;
  console.log(matchArray);
}

// HTML'deki gerekli Ã¶ÄŸeleri seÃ§er
const filterInput = document.querySelector(".search");
const resultsContainer = document.querySelector(".suggestions");

// Olay dinleyicilerini ekler
filterInput.addEventListener("change", renderMatches);
filterInput.addEventListener("keyup", renderMatches);
</script>
</body>
</html>
```

### Bu projeden Ã¶ÄŸrendiklerim
- [Intl](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl) api ile tarih, saat ve para birimleri formatlanabilir.

