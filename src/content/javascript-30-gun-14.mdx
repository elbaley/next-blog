+++
title= "Javascript 30 - GÃ¼n 14"
description = "Javascript 30 Challenge Proje 14: Referans ve Kopyalama"
date= "2023-05-09T23:49:40+03:00"
author = "Furkan"
favorite = false
tags = [

]
categories = [
"Javascript"
]

draft= false
+++

Projenin demosu : [Demo](https://elbaley.github.io/js-30/14/index-solution.html)
 
BaÅŸlangÄ±Ã§ dosyalarÄ±nÄ± bulabileceÄŸiniz repom: [js-30 | github](https://github.com/elbaley/js-30)


Javascript'te iki Ã§esit veri tipi bulunmaktadir: Primitive ve non-primitive(reference). 
Primitive veri tipindeki deÄŸerleri kopyalamak oldukÃ§a basit olsa da Array ve Objeler `reference` bazlÄ± veri tipleri olduÄŸundan kopyalama iÅŸlemleri kafa karÄ±ÅŸtÄ±rÄ±cÄ± olabiliyor. 

Primitive bir veri tipi olan stringi kopyalamayla baÅŸlayalÄ±m.
```js
let isim = 'Furkan';
let ikinciIsim = isim;

console.log(isim);//ğŸ‘‰ Furkan
console.log(ikinciIsim);//ğŸ‘‰ Furkan
// ikinciIsim deÄŸiÅŸkeninin deÄŸerini deÄŸiÅŸtirelim.
// isim deÄŸiÅŸkeni bu durumdan etkilenmeyecektir.
ikinciIsim = 'Didem';

console.log(isim);//ğŸ‘‰ Furkan
console.log(ikinciIsim);//ğŸ‘‰ Didem
```

Bu beklenen davranÄ±ÅŸ diÄŸer primitive veri tipleri(boolean,number vs.) iÃ§in de geÃ§erli.
## Array kopyalama
AynÄ± kopyalama iÅŸlemini primitive olmayan array ile deneyelim:
```js
const insanlar = ['Sabahattin Ali','NazÄ±m Hikmet','Elif Åafak','Orhan Pamuk'];
const yazarlar = insanlar;
// Ã¼Ã§Ã¼ncÃ¼ elemanÄ± yazarlar arrayinde deÄŸiÅŸtirmeyi deneyelim
yazarlar[2] = 'Halide Edip AdÄ±var';
console.log(insanlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Halide Edip AdÄ±var', 'Orhan Pamuk'] 
console.log(yazarlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Halide Edip AdÄ±var', 'Orhan Pamuk'] 
```
GÃ¶rÃ¼leceÄŸi gibi orijinal arraydeki 3. elemanda gÃ¼ncellendi! Bunun sebebi arrayi kopyalarken aslÄ±nda arrayin kendisini deÄŸil `referansÄ±nÄ±` kopyaladÄ±k. Her iki array aynÄ± referansa iÅŸaret ettiÄŸinden herhangi birini gÃ¼ncellediÄŸimizde bu diÄŸerini de etkiliyor.
Bu durumu Ã§Ã¶zmek iÃ§in;
- Eski usÃ¼l `[].slice()` metodunu kullanabiliriz. Slice metodunu parametresiz Ã§alÄ±ÅŸtÄ±rÄ±nca bize orijinal arrayi olduÄŸu gibi dÃ¶necektir ancak bu yeni bir array olacaktÄ±r ve referansÄ± farklÄ± olduÄŸundan yapÄ±lan deÄŸiÅŸikliklerden orijinal array etkilenmeyecektir.
```js
const insanlar = ['Sabahattin Ali','NazÄ±m Hikmet','Elif Åafak','Orhan Pamuk'];
const yazarlar = insanlar.slice();
// Ã¼Ã§Ã¼ncÃ¼ elemanÄ± yazarlar arrayinde deÄŸiÅŸtirmeyi deneyelim
yazarlar[2] = 'Halide Edip AdÄ±var';
console.log(insanlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Elif Åafak', 'Orhan Pamuk']
console.log(yazarlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Halide Edip AdÄ±var', 'Orhan Pamuk'] 
```
- `concat` metodu ile boÅŸ bir arraye kopyalamak istediÄŸimiz arrayi ekleyebiliriz.
```js
const insanlar = ['Sabahattin Ali','NazÄ±m Hikmet','Elif Åafak','Orhan Pamuk'];
const yazarlar = [].concat(insanlar);
// Ã¼Ã§Ã¼ncÃ¼ elemanÄ± yazarlar arrayinde deÄŸiÅŸtirmeyi deneyelim
yazarlar[2] = 'Halide Edip AdÄ±var';
console.log(insanlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Elif Åafak', 'Orhan Pamuk']
console.log(yazarlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Halide Edip AdÄ±var', 'Orhan Pamuk'] 
```

- Daha modern bir yÃ¶ntem olarak ise ES6 ile gelen spread syntaxÄ±nÄ± kullanabiliriz.
```js
const insanlar = ['Sabahattin Ali','NazÄ±m Hikmet','Elif Åafak','Orhan Pamuk'];
const yazarlar = [...insanlar];
// Ã¼Ã§Ã¼ncÃ¼ elemanÄ± yazarlar arrayinde deÄŸiÅŸtirmeyi deneyelim
yazarlar[2] = 'Halide Edip AdÄ±var';
console.log(insanlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Elif Åafak', 'Orhan Pamuk']
console.log(yazarlar);//ğŸ‘‰ ['Sabahattin Ali', 'NazÄ±m Hikmet', 'Halide Edip AdÄ±var', 'Orhan Pamuk'] 
```

## Object kopyalama
Objeler de non-primitive veri tipidir dolayÄ±sÄ±yla kopyalama yaparken aynÄ± problemle karÅŸÄ±laÅŸÄ±rÄ±z.
```js
const universite = {
    isim: 'ODTU',
    il: 'Ankara',
}
const yeniUniversite= universite 

yeniUniversite.isim = 'Hacettepe'
console.log(universite);//ğŸ‘‰ {isim: 'Hacettepe', il: 'Ankara'}
console.log(yeniUniversite);//ğŸ‘‰ {isim: 'Hacettepe', il: 'Ankara'}
```
Bu davranÄ±ÅŸtan kurtulmak ve objeyi gerÃ§ekten kopyalamak iÃ§in: 
- `Object.assign` kullanabiliriz. 
```js
const universite = {
    isim: 'ODTU',
    il: 'Ankara',
}
const yeniUniversite= Object.assign({},universite) 

yeniUniversite.isim = 'Hacettepe'
console.log(universite);//ğŸ‘‰ {isim: 'ODTU', il: 'Ankara'}
console.log(yeniUniversite);//ğŸ‘‰ {isim: 'Hacettepe', il: 'Ankara'}
```
- ES6 ile gelen spread syntaxÄ±nÄ± kullanabiliriz.
```js
const universite = {
    isim: 'ODTU',
    il: 'Ankara',
}
const yeniUniversite= {...universite};

yeniUniversite.isim = 'Hacettepe'
console.log(universite);//ğŸ‘‰ {isim: 'ODTU', il: 'Ankara'}
console.log(yeniUniversite);//ğŸ‘‰ {isim: 'Hacettepe', il: 'Ankara'}

```

Gerek Object gerekse de Array kopyalamak iÃ§in verilen yÃ¶ntemlerin yalnÄ±zca 1 seviye derinliÄŸinde olduÄŸunu unutmayÄ±n. Yani Ã¶rneÄŸin arrayiniz iÃ§inde baÅŸka bir array/object varsa ve yukarÄ±daki yÃ¶ntemlerle kopyalama yaparsanÄ±z referanslarÄ± aynÄ± olacak ve hatalarla karÅŸÄ±laÅŸma ihtimaliniz olacaktÄ±r. 
Bundan kaÃ§Ä±nmak iÃ§in internette bulabileceÄŸiniz `cloneDeep` metodlarÄ±nÄ± kullanmalÄ±sÄ±nÄ±z. 

